<div class="container-fluid">
  <div class="d-flex ">
    <img src="https://ouvrages.io/assets/logo-ouvrages-1ea2cb72306cedf7661d22770b3d3614827928c8ffedbcd4762b132c6414d633.svg" alt=""  height="60" class="d-inline-block align-text-top my-4">
  </div>
</div>
<div class="w-75 mx-auto mt-3">
  <div class="gray500 p-3 border-start border-success border-3 mb-3">
    <h1>Test technique Ouvrages</h1>
    <p class="textgray h5 fw-light">Application de récupération de données</p>
    <div >
      <p class="lead fs-6">Nous souhaitons savoir quand une version de Ruby est disponible ou en fin de support.
        Afin de répondre à ce besoin, votre tâche consistera à la récupération des données sur le site https://www.ruby-lang.org/fr/news/ via une tâche automatisée lancée tous les jours à 23h.
        Les données à récupérer sont le titre et la date de l'actualité. Les actualités qui ne concernent pas la disponibilité d'une nouvelle version, ou la fin du support ne nous intéressent pas.
        Les données récupérées doivent être enregistrées en base de données pour une consultation ultérieure via un tableau de bord que vous réaliserez de zéro ou en vous aidant de la commande bin/rails generate scaffold de Rails. Vous êtes libre sur le choix du framework CSS pour la réalisation de cet écran.
        Dans une optique d'automatisation, nous souhaiterions également un export CSV de ces informations avec les colonnes suivantes : version ruby, date, nouvelle version (o/n), fin support (o/n).
        Vous pouvez vous aider des gems suivantes :
        whenever pour la gestion des tâches automatisées
        mechanize pour le scrapping
        Nous pourrions dans un second temps améliorer l'application en réalisant une API pour que nos outils viennent directement demander les informations à cette application, ou être alerté par e-mail dès qu'une version est disponible ou en fin de support.
      </p>
    </div>
  </div>

  <div class="gray500 p-3 border-start border-success border-3">
    <h2 >Tableau de bord</h2>
    <p class="textgray h5 fw-light">Version de <strong class="text-danger">Ruby</strong> en base de données (nouvelle ou en fin de support )</p>
    <div>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Type</th>
            <th>Version</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
        <% @versions.each do |version| %>
        <tr class="align-middle">
          <td><%= version.new_version ? "Version" : "Fin de support" %></td>
          <td><%= version.num_version %></td>
          <td><%= version.date_version %></td>
        </tr>
        <% end %>
        </tbody>
      </table>
    </div>
    <div class="text-end">
      <%= link_to "Export CSV ", export_csv_path("csv"), class:"btn btn-success" %>
    </div>

   </div>
   <div class="mt-3 text-start">
    <p>Christophe TECHER - christophe126@gmail.com</p>
   </div>
</div>
